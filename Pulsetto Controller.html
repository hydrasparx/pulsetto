<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pulsetto Controller</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ Pulsetto</h1>
            <p>Vagus Nerve Stimulator</p>
        </div>

        <!-- Connection Card -->
        <div class="card">
            <button id="connectBtn" class="btn btn-primary">Connect to Device</button>
            <div id="deviceInfo" class="hidden" style="margin-top: 15px;">
                <div class="status">
                    <span class="status-label">Device:</span>
                    <span class="status-value" id="deviceName">-</span>
                </div>
                <div class="status">
                    <span class="status-label">Firmware:</span>
                    <span class="status-value" id="firmware">-</span>
                </div>
                <div class="status">
                    <span class="status-label">Battery:</span>
                    <span class="status-value" id="battery">-</span>
                </div>
                <div class="status">
                    <span class="status-label">Mode:</span>
                    <span class="status-value" id="mode">OFF</span>
                </div>
            </div>
        </div>

        <!-- Control Card -->
        <div id="controlCard" class="card hidden">
            <h3 style="margin-bottom: 15px;">Mode Selection</h3>
            <div class="mode-buttons">
                <button class="mode-btn" data-mode="A">LEFT</button>
                <button class="mode-btn" data-mode="C">RIGHT</button>
                <button class="mode-btn" data-mode="D">BOTH</button>
            </div>

            <h3 style="margin-bottom: 15px;">Intensity</h3>
            <div class="intensity-control">
                <div class="intensity-display" id="intensityDisplay">0</div>
                <input type="range" class="intensity-slider" id="intensitySlider" min="0" max="9" value="0">
            </div>

            <h3 style="margin-bottom: 15px;">Session Timer</h3>
            <div class="timer" id="timer">00:00</div>
            <div class="grid-2">
                <button id="startBtn" class="btn btn-success">Start</button>
                <button id="stopBtn" class="btn btn-danger">Stop</button>
            </div>
        </div>

        <!-- Presets Card -->
        <div id="presetsCard" class="card hidden">
            <h3 style="margin-bottom: 15px;">Saved Presets</h3>
            <div id="presetsList"></div>
            <button id="addPresetBtn" class="btn btn-secondary" style="margin-top: 15px;">+ Add Preset</button>
        </div>

        <!-- Add Preset Modal -->
        <div id="presetModal" class="card hidden">
            <h3 style="margin-bottom: 15px;">Create Preset</h3>
            <div class="input-group">
                <label>Preset Name</label>
                <input type="text" id="presetName" placeholder="e.g., Morning Routine">
            </div>
            <div class="input-group">
                <label>Mode</label>
                <select id="presetMode">
                    <option value="A">LEFT</option>
                    <option value="C">RIGHT</option>
                    <option value="D">BOTH</option>
                </select>
            </div>
            <div class="input-group">
                <label>Intensity (1-9)</label>
                <input type="number" id="presetIntensity" min="1" max="9" value="5">
            </div>
            <div class="input-group">
                <label>Duration (minutes)</label>
                <input type="number" id="presetDuration" min="1" max="60" value="6">
            </div>
            <div class="grid-2">
                <button id="savePresetBtn" class="btn btn-success">Save</button>
                <button id="cancelPresetBtn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="controller.js"></script>
</body>

</html>